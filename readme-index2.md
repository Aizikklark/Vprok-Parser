
# Скрипт для парсинга продуктов с использованием Puppeteer

Этот проект представляет собой JavaScript-скрипт для Node.js, который с помощью библиотеки Puppeteer автоматически выбирает регион на сайте [vprok.ru](https://www.vprok.ru), делает полноразмерный скриншот страницы товара, сохраняет в файл `./%region%/screenshot_%id%.jpg`, а также получает информацию о цене товара, рейтинге и количестве отзывов и сохраняет эти данные в файл `./%region%/product_%id%.txt`.

## Требования

- Node.js (v12 или выше)
- npm (Node Package Manager)
- Puppeteer

## Установка

1. Клонируйте репозиторий или скачайте его архивом:

   ```bash
   git clone https://github.com/Aizikklark/vprok-parser.git
   cd vprok-parser
   ```

2. Установите необходимые зависимости:

   ```bash
   npm install
   ```

3. Скрипт последовательно будет обрабатывать каждый URL для каждого региона и сохранять данные в соответствующих папках.

## Подготовка

Перед запуском скрипта создайте два текстовых файла в корне проекта:

- **url.txt** — содержит URL-адреса продуктов, которые вы хотите спарсить, каждый URL на новой строке.
- **region.txt** — содержит названия регионов, которые вы хотите выбрать, каждый регион на новой строке.

Пример содержимого файла `url.txt`:

```
https://www.vprok.ru/product/domik-v-derevne-dom-v-der-moloko-ster-3-2-950g--309202
https://www.vprok.ru/product/burn-napitok-bezalkogolnyy-silnogazirovannyy-toniziruyuschiy-energeticheskiybern-originalnyy-0-33l--1323707
```

Пример содержимого файла `region.txt`:

```
Москва и область
Санкт-Петербург и область
```

## Использование

Чтобы запустить скрипт, выполните следующую команду в терминале:

```bash
npm start
```

Скрипт последовательно обработает каждый URL для каждого региона, выберет регион на сайте, если он не установлен, и сохранит скриншоты страниц продуктов и информацию о них в файлы.

- Скриншоты сохраняются в папку с именем региона, например, `Москва и область/screenshot_305088.jpg`.
- Данные о продуктах сохраняются в текстовые файлы, например, `Москва и область/product_305088.txt`.

## Примеры результатов

- Скриншот страницы продукта: `Москва и область/screenshot_305088.jpg`
- Данные о продукте: `Москва и область/product_305088.txt`


## Примечания

- Скрипт автоматически прокручивает страницу до конца и скрывает некоторые всплывающие элементы, чтобы создать чистый скриншот.
- Если регион уже выбран, скрипт не будет пытаться выбрать его снова.

## Автор

- **Василий** - (https://github.com/Aizikklark)
